<div class="section">

  <h2 class="page-title">Medicine Details</h2>

  <div class="card space-y-6">

    <!-- NAME -->
    <div>
      <label class="block mb-1 font-medium">Name</label>
      <input
        type="text"
        class="input-readonly"
        [value]="medicine.med_name"
        readonly
      />
    </div>

    <!-- SCIENTIFIC NAME -->
    <div>
      <label class="block mb-1 font-medium">Scientific Name</label>
      <input
        type="text"
        class="input-readonly"
        [value]="medicine.scientific_name"
        readonly
      />
    </div>

    <!-- CATEGORY -->
    <div>
      <label class="block mb-1 font-medium">Category</label>
      <input
        type="text"
        class="input-readonly capitalize"
        [value]="medicine.category || '—'"
        readonly
      />
    </div>

    <!-- DOSE -->
    <div>
      <label class="block mb-1 font-medium">Dose</label>
      <input
        type="text"
        class="input-readonly"
        [value]="medicine.dose || '—'"
        readonly
      />
    </div>

    <!-- PRICE -->
    <div>
      <label class="block mb-1 font-medium">Price (JOD)</label>
      <input
        type="text"
        class="input-readonly"
        [value]="medicine.price"
        readonly
      />
    </div>

    <!-- CLOSET -->
    <div>
      <label class="block mb-1 font-medium">Closet</label>
      <input
        type="text"
        class="input-readonly capitalize"
        [value]="medicine.closet || '—'"
        readonly
      />
    </div>

    <!-- DESCRIPTION -->
    <div>
      <label class="block mb-1 font-medium">Description</label>
      <textarea
        class="input-readonly"
        rows="4"
        readonly
      >{{ medicine.description || '—' }}</textarea>
    </div>

    <!-- EDIT BUTTON -->
    <div class="pt-4" *ngIf="canEdit">
      <button
        [routerLink]="['/medicines/edit', medicine.id]"
        class="btn btn-primary w-full"
      >
        Edit Medicine
      </button>
    </div>

    <!-- DELETE BUTTON -->
    <div class="pt-2" *ngIf="canEdit">
      <button
        (click)="confirmDelete()"
        class="btn btn-danger w-full"
      >
        Delete Medicine
      </button>
    </div>

  </div>

  <!-- DELETE CONFIRMATION POPUP -->
  <div
    *ngIf="showDeleteConfirm"
    class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"
  >
    <div class="card max-w-sm text-center space-y-4 bg-white">

      <h3 class="text-xl font-semibold text-green-deep">
        Are you sure?
      </h3>

      <p class="text-gray-700">
        This will permanently delete <strong>{{ medicine.med_name }}</strong>.
      </p>

      <div class="flex justify-between gap-4 pt-4">
        <button class="btn btn-neutral w-full" (click)="showDeleteConfirm = false">
          Cancel
        </button>

        <button class="btn btn-danger w-full" (click)="deleteMedicine()">
          Delete
        </button>
      </div>

    </div>
  </div>

</div>
